---
// API Reference page using Scalar (local npm package)
const title = 'API Reference';
const description = 'Interactive API documentation for the Cyoda platform';

// Read URL parameters for configuration
const url = new URL(Astro.request.url);
const theme = url.searchParams.get('theme') || 'light';
const layout = url.searchParams.get('layout') || 'modern';
const hideModels = url.searchParams.get('hideModels') === 'true';
const showSidebar = url.searchParams.get('showSidebar') !== 'false'; // default true
---

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title} | Cyoda Documentation</title>
    <link rel="icon" href="/favicon.svg" sizes="any" />
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: system-ui, -apple-system, sans-serif;
      }
      .main-content {
        width: 100%;
        height: 100vh;
      }
    </style>
  </head>
  <body>
    <main class="main-content">
      <div id="api-reference" data-url="/openapi/openapi.json"></div>
    </main>

    <!-- Use CDN for Scalar API Reference -->
    <script is:inline src="https://cdn.jsdelivr.net/npm/@scalar/api-reference@latest"></script>


  </body>
</html>
